# =============================================================================
# ESP32-S3 COMMON CONFIGURATION
# =============================================================================
# This file contains settings common to ALL ESP32-S3 boards
# Board-specific differences (flash size, PSRAM mode) go in sdkconfig.defaults.[board]
# =============================================================================

# -----------------------------------------------------------------------------
# ESP32-S3 CPU & Performance (Common for all boards)
# -----------------------------------------------------------------------------
CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ_240=y
CONFIG_ESP32S3_INSTRUCTION_CACHE_32KB=y
CONFIG_ESP32S3_DATA_CACHE_64KB=y
CONFIG_ESP32S3_DATA_CACHE_LINE_64B=y

# -----------------------------------------------------------------------------
# ESP32-S3 SPIRAM Base Configuration (Common settings)
# -----------------------------------------------------------------------------
CONFIG_ESP32S3_SPIRAM_SUPPORT=y
CONFIG_SPIRAM=y

# PSRAM memory allocation strategies (common for all boards)
CONFIG_SPIRAM_ALLOW_BSS_SEG_EXTERNAL_MEMORY=y
CONFIG_SPIRAM_ALLOW_NOINIT_SEG_EXTERNAL_MEMORY=y
CONFIG_SPIRAM_TRY_ALLOCATE_WIFI_LWIP=y
CONFIG_SPIRAM_MALLOC_ALWAYSINTERNAL=256
CONFIG_MBEDTLS_EXTERNAL_MEM_ALLOC=y

# -----------------------------------------------------------------------------
# Audio Hardware Configuration (Common for ESP32-S3)
# -----------------------------------------------------------------------------
# I2S Digital Microphone Configuration
CONFIG_USE_I2S_MICROPHONE=y
CONFIG_AG_AUDIO_MIC_SAMPLE_RATE=24000
CONFIG_AG_AUDIO_MIC_BIT_DEPTH=16
CONFIG_AG_AUDIO_MIC_CHANNELS=1
CONFIG_AG_AUDIO_MIC_EXTENDED_BIT_DEPTH=24
CONFIG_AG_AUDIO_ENABLE_AEC=n

# -----------------------------------------------------------------------------
# Flash Configuration (Freenove specific)
# -----------------------------------------------------------------------------
CONFIG_ESPTOOLPY_FLASHFREQ_120M=y
CONFIG_ESPTOOLPY_FLASHSIZE_8MB=y

# I2C codec configuration
CONFIG_CODEC_I2C_BACKWARD_COMPATIBLE=n
